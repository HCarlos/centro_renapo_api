import{u as k,z as _,A as M,m as l,p as u,f as e,j as $,q as m,v as y,g as s,n as c,t as i,B as v,F as C,C as B,l as a,D as S,e as h,w as j,k as D,s as U}from"./vendor-BjpG8rH3.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},E={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},H={class:"p-6"},P={class:"mb-4"},q={key:0,class:"text-red-500 text-xs italic"},F={class:"mb-4"},z={key:0,class:"text-red-500 text-xs italic"},O={class:"mb-4"},R={key:0,class:"text-red-500 text-xs italic"},A={class:"mb-4"},T={key:0,class:"text-red-500 text-xs italic"},J={class:"mb-4"},L={key:0,class:"text-red-500 text-xs italic"},X={class:"mb-4"},G=["value"],I={key:0,class:"text-red-500 text-xs italic"},Y={class:"flex items-center justify-between"},Z=["disabled"],K={__name:"SearchByDataModal",props:{show:Boolean,errors:{type:Object,default:()=>({})}},emits:["close"],setup(f,{emit:p}){const b=p,t=k({nombre:"",apellido_paterno:"",apellido_materno:"",fecha_nacimiento:"",sexo:"H",clave_estado:""}),x=_([]);M(async()=>{const r=await fetch("/js/estados.json");x.value=await r.json()});const g=()=>{t.post(route("consulta-datos"),{preserveScroll:!0,onSuccess:()=>{d(),t.reset(),router.reload({only:["consultas"]})},onError:r=>{}})},d=()=>{t.clearErrors(),t.reset(),b("close")};return(r,o)=>f.show?(a(),l("div",N,[e("div",E,[e("div",H,[o[13]||(o[13]=e("h2",{class:"text-2xl font-bold mb-4"},"Búsqueda por Datos",-1)),e("form",{onSubmit:$(g,["prevent"])},[e("div",P,[o[6]||(o[6]=e("label",{for:"nombre",class:"block text-gray-700 text-sm font-bold mb-2"},"Nombre",-1)),m(e("input",{id:"nombre",type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>s(t).nombre=n),class:c(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":s(t).errors.nombre}])},null,2),[[y,s(t).nombre]]),s(t).errors.nombre?(a(),l("p",q,i(s(t).errors.nombre[0]),1)):u("",!0)]),e("div",F,[o[7]||(o[7]=e("label",{for:"apellido_paterno",class:"block text-gray-700 text-sm font-bold mb-2"},"Apellido Paterno",-1)),m(e("input",{id:"apellido_paterno",type:"text","onUpdate:modelValue":o[1]||(o[1]=n=>s(t).apellido_paterno=n),class:c(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":s(t).errors.apellido_paterno}])},null,2),[[y,s(t).apellido_paterno]]),s(t).errors.apellido_paterno?(a(),l("p",z,i(s(t).errors.apellido_paterno[0]),1)):u("",!0)]),e("div",O,[o[8]||(o[8]=e("label",{for:"apellido_materno",class:"block text-gray-700 text-sm font-bold mb-2"},"Apellido Materno",-1)),m(e("input",{id:"apellido_materno",type:"text","onUpdate:modelValue":o[2]||(o[2]=n=>s(t).apellido_materno=n),class:c(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":s(t).errors.apellido_materno}])},null,2),[[y,s(t).apellido_materno]]),s(t).errors.apellido_materno?(a(),l("p",R,i(s(t).errors.apellido_materno[0]),1)):u("",!0)]),e("div",A,[o[9]||(o[9]=e("label",{for:"fecha_nacimiento",class:"block text-gray-700 text-sm font-bold mb-2"},"Fecha de Nacimiento",-1)),m(e("input",{id:"fecha_nacimiento",type:"date","onUpdate:modelValue":o[3]||(o[3]=n=>s(t).fecha_nacimiento=n),class:c(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":s(t).errors.fecha_nacimiento}])},null,2),[[y,s(t).fecha_nacimiento]]),s(t).errors.fecha_nacimiento?(a(),l("p",T,i(s(t).errors.fecha_nacimiento[0]),1)):u("",!0)]),e("div",J,[o[11]||(o[11]=e("label",{for:"sexo",class:"block text-gray-700 text-sm font-bold mb-2"},"Sexo",-1)),m(e("select",{id:"sexo","onUpdate:modelValue":o[4]||(o[4]=n=>s(t).sexo=n),class:c(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":s(t).errors.sexo}])},[...o[10]||(o[10]=[e("option",{value:"H"},"Hombre",-1),e("option",{value:"M"},"Mujer",-1)])],2),[[v,s(t).sexo]]),s(t).errors.sexo?(a(),l("p",L,i(s(t).errors.sexo[0]),1)):u("",!0)]),e("div",X,[o[12]||(o[12]=e("label",{for:"clave_estado",class:"block text-gray-700 text-sm font-bold mb-2"},"Clave Estado",-1)),m(e("select",{id:"clave_estado","onUpdate:modelValue":o[5]||(o[5]=n=>s(t).clave_estado=n),class:c(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":s(t).errors.clave_estado}])},[(a(!0),l(C,null,B(x.value,(n,w)=>(a(),l("option",{key:w,value:w},i(n),9,G))),128))],2),[[v,s(t).clave_estado]]),s(t).errors.clave_estado?(a(),l("p",I,i(s(t).errors.clave_estado[0]),1)):u("",!0)]),e("div",Y,[e("button",{type:"button",onClick:d,class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Cancelar "),e("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:s(t).processing}," Buscar ",8,Z)])],32)])])])):u("",!0)}},Q={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},W={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},ee={class:"p-6"},te={class:"mb-4"},oe={key:0,class:"text-red-500 text-xs italic"},se={class:"flex items-center justify-between"},re=["disabled"],le={__name:"SearchByCurpModal",props:{show:Boolean,errors:{type:Object,default:()=>({})}},emits:["close"],setup(f,{emit:p}){const b=p,t=k({curp:""}),x=()=>{t.post(route("consulta-curp"),{preserveScroll:!0,onSuccess:()=>{g(),t.reset(),S.reload({only:["consultas"]})},onError:d=>{}})},g=()=>{t.clearErrors(),t.reset(),b("close")};return(d,r)=>f.show?(a(),l("div",Q,[e("div",W,[e("div",ee,[r[2]||(r[2]=e("h2",{class:"text-2xl font-bold mb-4"},"Búsqueda por CURP",-1)),e("form",{onSubmit:$(x,["prevent"])},[e("div",te,[r[1]||(r[1]=e("label",{for:"curp",class:"block text-gray-700 text-sm font-bold mb-2"},"CURP",-1)),m(e("input",{id:"curp",type:"text","onUpdate:modelValue":r[0]||(r[0]=o=>s(t).curp=o),class:c(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline uppercase",{"border-red-500":s(t).errors.curp}]),placeholder:"Ej: PEGF900115HDFXYZ01",maxlength:"18"},null,2),[[y,s(t).curp]]),s(t).errors.curp?(a(),l("p",oe,i(s(t).errors.curp[0]),1)):u("",!0)]),e("div",se,[e("button",{type:"button",onClick:g,class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Cancelar "),e("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:s(t).processing}," Buscar ",8,re)])],32)])])])):u("",!0)}},ae={class:"min-h-screen bg-gray-100"},ne={class:"flex"},de={class:"w-64 bg-white shadow-md min-h-screen"},ie={class:"mt-4"},ue={class:"flex-1 p-8"},ce={key:0,class:"bg-white shadow-md rounded-lg p-6 text-center"},pe={key:1,class:"bg-white shadow-md rounded-lg overflow-hidden"},be={class:"overflow-x-auto"},xe={class:"min-w-full leading-normal"},me={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},fe={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},ge={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},ye={class:"text-xs whitespace-pre-wrap"},he={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},_e={class:"text-xs whitespace-pre-wrap"},we={__name:"Home",props:{consultas:{type:Array,default:()=>[]}},setup(f){const p=_(!1),b=_(!1),t=d=>{console.log("Opening modal:",d),d==="byData"?p.value=!0:d==="byCurp"&&(b.value=!0)},x=()=>{console.log("Closing modals"),p.value=!1,b.value=!1},g=()=>{S.post(route("logout"))};return(d,r)=>(a(),l("div",ae,[e("div",ne,[e("div",de,[r[3]||(r[3]=e("div",{class:"p-4"},[e("h2",{class:"text-xl font-semibold"},"Menú")],-1)),e("nav",ie,[h(s(U),{href:d.route("home"),class:"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-500 hover:text-white"},{default:j(()=>[...r[2]||(r[2]=[D(" Home ",-1)])]),_:1},8,["href"]),e("button",{onClick:r[0]||(r[0]=o=>t("byData")),class:"block w-full text-left py-2.5 px-4 rounded transition duration-200 hover:bg-blue-500 hover:text-white"}," Búsqueda por datos "),e("button",{onClick:r[1]||(r[1]=o=>t("byCurp")),class:"block w-full text-left py-2.5 px-4 rounded transition duration-200 hover:bg-blue-500 hover:text-white"}," Búsqueda por CURP "),e("button",{onClick:g,class:"block w-full text-left py-2.5 px-4 rounded transition duration-200 hover:bg-red-500 hover:text-white mt-4"}," Cerrar Sesión ")])]),e("div",ue,[r[6]||(r[6]=e("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Historial de Búsquedas",-1)),f.consultas.length===0?(a(),l("div",ce,[...r[4]||(r[4]=[e("p",{class:"text-gray-600"},"No hay consultas realizadas aún.",-1),e("p",{class:"text-gray-500 text-sm mt-2"},"Utiliza las opciones del menú para realizar tu primera búsqueda.",-1)])])):(a(),l("div",pe,[e("div",be,[e("table",xe,[r[5]||(r[5]=e("thead",null,[e("tr",null,[e("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Tipo "),e("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Fecha "),e("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Datos de la solicitud "),e("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Respuesta ")])],-1)),e("tbody",null,[(a(!0),l(C,null,B(f.consultas,o=>(a(),l("tr",{key:o.id},[e("td",me,[e("span",{class:c(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.tipo==="datos"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},i(o.tipo==="datos"?"Por Datos":"Por CURP"),3)]),e("td",fe,i(new Date(o.created_at).toLocaleString("es-MX")),1),e("td",ge,[e("pre",ye,i(JSON.stringify(o.datos_consulta,null,2)),1)]),e("td",he,[e("pre",_e,i(JSON.stringify(o.resultado,null,2)),1)])]))),128))])])])]))])]),h(K,{show:p.value,errors:d.errors,onClose:x},null,8,["show","errors"]),h(le,{show:b.value,errors:d.errors,onClose:x},null,8,["show","errors"])]))}},$e=V(we,[["__scopeId","data-v-a0149b34"]]);export{$e as default};
